Step: build-step-credential-initializer-f84q2:

{"level":"warn","ts":1554302215.2144496,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/backport-container-name-fix\" is not a valid GitHub commit ID"}
{"level":"info","ts":1554302215.2155535,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}
Step: build-step-git-source-jstrachan-env-t1-staging-master-w6psr:

{"level":"warn","ts":1554302216.1637797,"logger":"fallback-logger","caller":"logging/config.go:65","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/backport-container-name-fix\" is not a valid GitHub commit ID"}
{"level":"info","ts":1554302217.2718642,"logger":"fallback-logger","caller":"git-init/main.go:99","msg":"Successfully cloned \"https://github.com/jstrachan/env-t1-staging\" @ \"v0.0.18\" in path \"/workspace/source\""}
Step: build-step-place-tools:

Step: build-step-setup-**-git-credentials:

Generated Git credentials file /workspace/xdg_config/git/credentials
Step: build-step-build-helm-apply:

Modified file /workspace/source/env/Chart.yaml to set the chart to version 18
No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: jenkins-x http://chartmuseum.jenkins-x.io
Successfully added Helm repository jenkins-x.
Adding missing Helm repo: releases http://jenkins-x-chartmuseum:8080
Successfully added Helm repository releases.
Applying helm chart at . as release name ** to namespace **-staging
Ignoring templates/.gitignore
Wrote chart values.yaml values.yaml generated from directory tree
generated helm values.yaml

PipelineSecrets: {}
cleanup:
  Annotations:
    helm.sh/hook: pre-delete
    helm.sh/hook-delete-policy: hook-succeeded
  Args:
  - --cleanup
controllerbuild: {}
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  Args:
  - --v
  - 4
  config:
    domain: 35.240.20.231.nip.io
    exposer: Ingress
    http: "true"
jenkins:
  Servers:
    Global: {}
prow: {}


Using values files: values.yaml
Applying chart overridesApplying generated chart . YAML via kubectl in dir: /tmp/helm-template-workdir-791674394/**/output
role.rbac.authorization.k8s.io/cleanup configured
rolebinding.rbac.authorization.k8s.io/cleanup configured
serviceaccount/cleanup configured
deployment.extensions/**-demo277 created
release.jenkins.io/demo277-0.0.1 created
service/demo277 created
configmap/exposecontroller configured
role.rbac.authorization.k8s.io/expose configured
rolebinding.rbac.authorization.k8s.io/expose configured
serviceaccount/expose configured
Applying Helm hook post-upgrade YAML via kubectl in file: /tmp/helm-template-workdir-791674394/**/helmHooks/env/charts/expose/templates/job.yaml
job.batch/expose created
Waiting for helm post-upgrade hook Job expose to complete before removing it
Deleting helm hook sources from file: /tmp/helm-template-workdir-791674394/**/helmHooks/env/charts/expose/templates/job.yaml
job.batch "expose" deleted
Removing Kubernetes resources from older releases using selector: jenkins.io/chart-release=**,jenkins.io/version!=18 from all pvc configmap release sa role rolebinding secret
Removing Kubernetes resources from older releases using selector: jenkins.io/chart-release=**,jenkins.io/version!=18,jenkins.io/namespace=**-staging from clusterrole clusterrolebinding
